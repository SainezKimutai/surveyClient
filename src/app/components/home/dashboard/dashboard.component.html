<div class="page-header">

    <h4>Dashboard</h4>

</div>


<section class="body-section">




<section id="top_cards_section" class="card-group">

    <div class="card first">
        <div class="card-title">
            <h4>Surveys</h4>
            <fa-icon [icon]="faListAlt"></fa-icon>
        </div>
        <div class="card-info">
            <h4>{{AllSurveys.length}}</h4>
        </div>
        <div class="card-body">
            <canvas *ngIf="cardOneType" baseChart class="chart"
            [chartType]="cardOneType"
            [labels]="cardOneLabels"
            [datasets]="cardOneDatasets"
            [options]="topCardsChart"          
            ></canvas>
        </div>
    </div>
    
    <div class="card second">
        <div class="card-title">
            <h4>Companies</h4>
            <fa-icon [icon]="faBuilding"></fa-icon>
        </div>
        <div class="card-info">
            <h4>{{AllCompanies.length}}</h4>
        </div>
        <div class="card-body">
            <canvas *ngIf="cardTwoType" baseChart class="chart"
            [chartType]="cardTwoType"
            [labels]="cardTwoLabels"
            [datasets]="cardTwoDatasets"
            [options]="topCardsChart"          
            ></canvas>
        </div>
    </div>
    
    <div class="card third">
        <div class="card-title">
            <h4 >Risk Rates</h4>
            <fa-icon [icon]="faFire"></fa-icon>
        </div>
        <div class="card-info">
            <h4>By Industry Type</h4>
        </div>
        <div class="card-body">
            <canvas *ngIf="cardThreeType" baseChart class="chart"
            [chartType]="cardThreeType"
            [labels]="cardThreeLabels"
            [datasets]="cardThreeDatasets"
            [options]="topCardsChart"          
            ></canvas>
        </div>
    </div>
    
    <div class="card forth">
        <div class="card-title">
            <h4>Risk Rates</h4>
            <fa-icon [icon]="faFire"></fa-icon>
        </div>
        <div class="card-info">
            <h4>By Company</h4>
        </div>
        <div class="card-body">
            <canvas *ngIf="cardFourType" baseChart class="chart"
            [chartType]="cardFourType"
            [labels]="cardFourLabels"
            [datasets]="cardFourDatasets"
            [options]="topCardsChart"          
            ></canvas>
        </div>
    </div>
    
    
</section><!-- top_cards_section -->




<section id="second_cards_section" class="card-group">
    <div class="card">
        <div class="title">Company Risk Rates Per Survey Template</div>
        <div class="body-wrapper">
        <div class="body-title" >
  
          <div  class="body-item d-flex">
            <div class="mx-auto ">Comapany Name</div>
            <div class="mx-auto ">Survey Name</div>
            <div class="mx-auto ">Risk rate</div>
            <div class="rate">Recommendation</div>
          </div>
  
        </div>
     
            <div  class="body d-flex" *ngIf="CompnayRiskRates.length === 0">
                <div class="spinner-div spinner-border mx-auto" role="status"></div>
              </div>
        
              <div class="body" *ngIf="CompnayRiskRates.length !== 0">
        
                <div *ngFor="let comp of CompnayRiskRates" class="body-item d-flex" (click)="openAnswersModal(comp.companyName, comp.surveyName, comp.surveyId, comp.responseId)">
                  <div class="mx-auto companyName">{{comp.companyName}}</div>
                  <div class="mx-auto surveyName">{{comp.surveyName}}</div>
                  <div class="mx-auto riskRate">{{comp.riskRate}}</div>
                  <div class="mx-auto recommendation">{{comp.recommendation}}</div>
                </div>
        
              </div>
        </div>

    </div>
    
    <div class="card">
        <div class="title">Risk Issues</div>

        <div class="body-wrapper">
            <div class="body-title" >
  
                <div  class="body-item d-flex">
                  <div class="mx-auto ">Threat</div>  
                  <div class="mx-auto ">Company</div>
                  <div class="mx-auto ">Severity</div>
                  <div class="rate">Intervention</div>
                </div>
        
              </div>
        
              <div class="body d-flex" *ngIf="riskIssueArray.length === 0">
                <div class="spinner-div spinner-border mx-auto" role="status"></div>
              </div>
        
              <div class="body" *ngIf="riskIssueArray.length !== 0">
        
                <div *ngFor="let item of riskIssueArray" class="body-item d-flex">
                  <div class="mx-auto">{{item.risk}}</div>
                  <div class="mx-auto">{{item.company}}</div>
                  <div class="mx-auto riskRate">{{item.level}}</div>
                  <div class="mx-auto">{{item.recom}}</div>
                </div>
        
              </div>
        </div>

    </div>
</section><!-- second_cards_section -->







<section id="graph_section" class="card-group">
    <div class="card">
        <div class="title">Risks Representations</div>
        <div class="body">
            <div  class="body w-10 d-flex" *ngIf="!graphType">
                <div class="spinner-div spinner-border mx-auto" role="status"></div>
              </div>
            <canvas *ngIf="graphType" baseChart class="chart"
            [chartType]="graphType"
            [labels]="graphLabels"
            [datasets]="graphDatasets"
            [options]="graphChart"          
            ></canvas>  
        </div>
 
    </div>
</section> <!-- graph_section -->













<section hidden id="list_section_one" class="card-group">
    <div class="card">
 
    </div>
</section> <!-- list_section_one -->









<section hidden id="list_section_two" class="card-group">
    <div class="card">
 
    </div>
</section> <!-- list_section_two -->







<div bsModal  #viewAnswersModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewAnswersModal modal-lg" role="document">
      <div class="modal-content">
      <div class="modal-header ">
          <h4 class="modal-title ">Responses of <span>{{companyNameOnView}}</span>  on <span>{{surveyNameOnView}} survey</span></h4>
          <button type="button" class="btn close" (click)="viewAnswersModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    
      </div>
      <div class="modal-body" >
   
        <div class="question-wrap" *ngFor="let item of QuestionsOnView">

          <div class="question">{{item.question}}</div>

          <div class="answer-wrap" >
            <div *ngFor="let ans of item.answers" [ngClass]="ans.picked ? 'answer picked' : 'answer'" class="answer">{{ans.answer}}</div>
          </div>

        </div>


      </div>
      </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->











</section><!-- body-section -->








<div class="page-footer">

    <h5>Survey System &copy; {{thisYear}} <span>Tactive</span></h5>

    <h6>Powered by <span>Imprint Africa</span></h6>

</div>





















