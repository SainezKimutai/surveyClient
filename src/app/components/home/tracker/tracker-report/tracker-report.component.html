<article *ngIf="ImprintLoader" class="imprint-loader home">
    <div class="imprint-loader-wrap">
        <div class="imprint-loader-main">
        <div class="imprint-loader-ball ball-one"></div>
        <div class="imprint-loader-ball ball-two"></div>
        <div class="imprint-loader-ball ball-three"></div>
        <div class="imprint-loader-ball ball-four"></div>
        </div>
    </div>
</article>



<section class="list-section" *ngIf="PlanOnReport" >
    <div class="title d-flex">
        <span class="icon" (click)="back()"> <fa-icon [icon]="faArrowLeft"></fa-icon> </span>

        <span class="text">{{PlanOnReport.name}}</span>

    </div>

    <div class="model-edit" *ngIf="ActiveModel === 'edit' && ActivePlanEdit">

        <div class="model-threat">
            <h4 class="head">ACTIONABLES</h4>

            <div class="list-item-wrap">
                <li class="item" *ngFor="let item of PlanOnReport.plan" 
                [ngClass]="ActivePlanEdit._id === item._id ? 'item active' : 'item'"
                (click)="switchPlanActionable(item._id)">{{item.actionable}}</li>
            </div>
        </div>

        <div class="model-card">
            <div class="model-wrap">
            <div class="head-wrap">
                <h4>Tasks</h4>
            </div>

            <div class="title-wrap">
                <h6>Task</h6>
                <h6>Kpi</h6>
                <h6>Start Date</h6>
                <h6>End Date</h6>
                <h6>Report</h6>
                <h6>Timeline</h6>
            </div>

            <div class="list-wrap">
                <div class="list-item" *ngFor="let item of ActivePlanEdit.tasks" 
                (click)="actionClicked(item)" >
                    <li>{{item.task}}</li>
                    <li><span *ngIf="item.kpi === null">---</span> <span *ngIf="item.kpi">{{item.kpi}}</span></li>
                    <li>{{item.startDate | date}}</li>
                    <li>{{item.endDate | date}}</li>
                    <li>
                        <span *ngIf="item.reportingStatus === 'pending'" class="pending">Pending</span>
                        <span *ngIf="item.reportingStatus === 'done'" class="done">Done</span>
                    </li>
                    <li>
                        <span *ngIf="item.timeline === 'awaiting'" class="awaiting">Awaiting</span>
                        <span *ngIf="item.timeline === 'active'" class="active">Active</span>
                        <span *ngIf="item.timeline === 'due'" class="due">Due</span>
                    </li>
                </div>
                <div class="list-item" *ngIf="ActivePlanEdit.tasks.length === 0">
                    <li>---No Task---</li>
                    <li>---</li>
                    <li>---</li>
                    <li>---</li>
                    <li>---</li>
                    <li>---</li>
                </div>
            </div>

            </div>

        </div>


    </div>









</section>







<div bsModal #reportModel="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog reportModel modal-md" role="document">
        <div class="modal-content">
        <div class="modal-header ">
            <h4 class="modal-title"> Report </h4>
            <button type="button" class="btn close" (click)="reportModel.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" >

            <form class="form">
                <div class="form-group" *ngIf="!reportInputIsBoolean">
                    <label>Report Value</label>
                    <input type="number" name="reportValueInput" [(ngModel)]="reportValueInput">
                </div>
                <div class="form-group" *ngIf="reportInputIsBoolean">
                    <label>Task Done ?</label>
                    <div class="custom-control custom-switch ml-auto">
                        <input type="checkbox" name="reportEventInput" [(ngModel)]="reportEventInput" class="custom-control-input" id="approve">
                        <label *ngIf="reportEventInput" class="custom-control-label yes" for="approve">Yes</label>
                        <label *ngIf="!reportEventInput" class="custom-control-label no" for="approve">No</label>
                    </div>
                </div>
            </form>
           
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-cancel" (click)="reportModel.hide()">Cancel</button>
            <button type="button" class="btn btn-confirm" (click)="saveReport()">Save</button>
        </div>
        </div>
    </div>
</div>



